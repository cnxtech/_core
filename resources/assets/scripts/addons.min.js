var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},__decorate=this&&this.__decorate||function(a,b,c,d){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(a,b,c,d);switch(arguments.length){case 2:return a.reduceRight(function(a,b){return b&&b(a)||a},b);case 3:return a.reduceRight(function(a,d){return void(d&&d(b,c))},void 0);case 4:return a.reduceRight(function(a,d){return d&&d(b,c,a)||a},d)}},codex;!function(a){var b;!function(b){var c,d={selectors:{search:".sidebar-search",header:".page-header","header-inner":"<%= layout.selectors.header %> .page-header-inner",container:".page-container","sidebar-wrapper":".page-sidebar-wrapper",sidebar:".page-sidebar","sidebar-menu":".page-sidebar-menu","content-wrapper":".page-content-wrapper",content:".page-content","content-head":"<%= layout.selectors.content %> .page-head","content-breadcrumbs":"<%= layout.selectors.content %> .page-breadcrumbs","content-inner":"<%= layout.selectors.content %> .page-content-inner",footer:".page-footer","footer-inner":".page-footer-inner"},breakpoints:{"screen-lg-med":"1260px","screen-lg-min":"1200px","screen-md-max":"1199px","screen-md-min":"992px","screen-sm-max":"991px","screen-sm-min":"768px","screen-xs-max":"767px","screen-xs-min":"480px"},breakpoints4:{xs:0,sm:544,md:768,lg:992,xl:1200},sidebar:{autoScroll:!0,keepExpanded:!0,slideSpeed:200,togglerSelector:".sidebar-toggler",openCloseDuration:600,openedWidth:235,closedWidth:54,resolveActive:!0},preferences:{sidebar:{hidden:!1,closed:!1,reversed:!1,fixed:!0,condensed:!1},header:{fixed:!0},footer:{fixed:!0},page:{boxed:!1}}},e=$(window),f=$(document),g=$("body"),h=function(){function a(a){this.l=a}return Object.defineProperty(a.prototype,"header",{get:function(){return this.l.e("header")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"headerInner",{get:function(){return this.l.e("header-inner")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"container",{get:function(){return this.l.e("container")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"content",{get:function(){return this.l.e("content")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sidebar",{get:function(){return this.l.e("sidebar")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"sidebarMenu",{get:function(){return this.l.e("sidebar-menu")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"footer",{get:function(){return this.l.e("footer")},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"footerInner",{get:function(){return this.l.e("footer-inner")},enumerable:!0,configurable:!0}),a}(),i=function(b){function i(){b.apply(this,arguments),this.openCloseInProgress=!1,this.closing=!1}return __extends(i,b),i.prototype.init=function(){var b=this;this.app.debug.log("LayoutComponent init"),this.app.on("booted",function(){a.debug.log("layout received event emitted from app: booted"),b.removePageLoader()})},i.prototype.boot=function(){a.debug.log("LayoutComponent debug"),c=new h(this),this._initLayoutApiActions(),this._initHeader(),this._initFixed(),this._initSidebarSubmenus(),this._initToggleButton(),this._initGoTop(),this.sidebarResolveActive(),this.fixBreadcrumb(),this._initResizeEvent(),this._initSidebarResizeListener(),this._initEdgedHeightResizeListener()},i.prototype._initLayoutApiActions=function(){var a=this,b=this;this._apiCallbacks={};var c={theme:function(b){a.setTheme(b)},"page-boxed":function(){a.setBoxed(!a.isBoxed())},"page-edged":function(){a.setEdged(!a.isEdged())},"header-fixed":function(){a.setHeaderFixed(!a.isHeaderFixed())},"footer-fixed":function(){a.setFooterFixed(!a.isFooterFixed())},"sidebar-toggle":function(){a.isSidebarClosed()?a.openSidebar():a.closeSidebar()},"sidebar-fixed":function(){a.setSidebarFixed(!a.isSidebarFixed())},"sidebar-close-submenus":function(){a.closeSubmenus()},"sidebar-close":function(){a.closeSidebar()},"sidebar-open":function(){a.openSidebar()},"sidebar-hide":function(){a.hideSidebar()},"sidebar-show":function(){a.showSidebar()},"sidebar-condensed":function(){a.setSidebarCondensed(!a.isSidebarCondensed())},"sidebar-hover":function(){a.setSidebarHover(!a.isSidebarHover())},"sidebar-reversed":function(){a.setSidebarReversed(!a.isSidebarReversed())}};this.setApiActions(c),g.onClick("[data-layout-api]",function(a){a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault();var c=$(this).attr("data-layout-api"),d=$(this).attr("data-layout-api-args");b.api(c,d)})},i.prototype.setApiAction=function(a,b){this._apiCallbacks[a]=b},i.prototype.setApiActions=function(a){var b=this;console.log("setapi actions",a,this),$.each(a,function(a,c){b.setApiAction(a,c)})},i.prototype.api=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];if(!this._apiCallbacks[a])throw new Error("Layout api action "+a+" does not exist");this._apiCallbacks[a].apply(this._apiCallbacks[a],b)},i.prototype.removePageLoader=function(){g.removeClass("page-loading")},i.prototype.createLoader=function(a,b){return new j(a,b)},i.prototype.e=function(a){var b=this.config.get("layout.selectors."+a);return $(b)},i.prototype._initResizeEvent=function(){var a,b=this;$(window).resize(function(){a&&clearTimeout(a),a=setTimeout(function(){b.app.emit("resize")},50)})},i.prototype._initSidebarResizeListener=function(){var a=this,b=!1;this.app.on("resize",function(){b||(b=!0,setTimeout(function(){a._initFixed(),b=!1},a.config("layout.sidebar.slideSpeed")))})},i.prototype._initEdgedHeightResizeListener=function(){var b=this,d=function(){b.isEdged()&&a.getViewPort().width>=b.getBreakpoint("md")?(a.debug.log("edged height resize","viewport height",a.getViewPort().height,"calculated",b.calculateViewportHeight()),c.sidebarMenu.css("min-height",b.calculateViewportHeight()),c.content.css("min-height",b.calculateViewportHeight())):(c.sidebarMenu.removeAttr("style"),c.content.removeAttr("style"))};this.app.on("resize",d),this.app.on("sidebar:closed",d),this.app.on("sidebar:opened",d),d()},i.prototype._initHeader=function(){},i.prototype.fixBreadcrumb=function(){var a=$(".page-breadcrumb").find("> li").last().find("i");a.size()>0&&a.remove()},i.prototype._initGoTop=function(){var a=300,b=500;navigator.userAgent.match(/iPhone|iPad|iPod/i)?e.bind("touchend touchcancel touchleave",function(c){$(this).scrollTop()>a?$(".scroll-to-top").fadeIn(b):$(".scroll-to-top").fadeOut(b)}):e.scroll(function(){$(this).scrollTop()>a?$(".scroll-to-top").fadeIn(b):$(".scroll-to-top").fadeOut(b)}),$(".scroll-to-top").click(function(a){return a.preventDefault(),$("html, body").animate({scrollTop:0},b),!1})},i.prototype._initFixed=function(){a.destroySlimScroll(c.sidebarMenu),this.isSidebarFixed()&&a.getViewPort().width>=this.getBreakpoint("md")&&(c.sidebarMenu.attr("data-height",this.calculateViewportHeight()),a.makeSlimScroll(c.sidebarMenu,{position:this.isSidebarReversed()?"left":"right",allowPageScroll:!1}))},i.prototype._initSidebarSubmenus=function(){var b=this;c.sidebar.onClick("li > a",function(d){var e=$(this);if(!(a.getViewPort().width>=b.getBreakpoint("md")&&1===e.parents(".page-sidebar-menu-hover-submenu").size())){if(e.next().hasClass("sub-menu")===!1)return void(a.getViewPort().width<b.getBreakpoint("md")&&c.sidebarMenu.hasClass("in")&&$(".page-header .responsive-toggler").click());if(!e.next().hasClass("sub-menu always-open")){var f=e.parent().parent(),g=e.next();b.config("layout.sidebar.keepExpand")!==!0&&(f.children("li.open").children("a").children(".arrow").removeClass("open"),f.children("li.open").children(".sub-menu:not(.always-open)").slideUp(b.config("layout.sidebar.slideSpeed")),f.children("li.open").removeClass("open"));var h=-200,i=g.is(":visible");e.find(".arrow").ensureClass("open",!i),e.parent().ensureClass("open",!i),a.debug.log("sidebarsubmenu",i,e,g),g[i?"slideUp":"slideDown"](b.config("layout.sidebar.slideSpeed"),function(){b.config("layout.sidebar.autoScroll")===!0&&b.isSidebarClosed()===!1&&(b.isSidebarFixed()?c.sidebarMenu.slimScroll({scrollTo:e.position().top}):b.scrollTo(e,h))}),d.preventDefault()}}}),f.onClick(".page-header-fixed-mobile .responsive-toggler",function(){b.scrollTop()})},i.prototype._initToggleButton=function(){return},i.prototype._initFixedHovered=function(){var a=this;a.isSidebarFixed()&&c.sidebarMenu.on("mouseenter",function(){a.isSidebarClosed()&&c.sidebar.removeClass("page-sidebar-menu-closed")}).on("mouseleave",function(){a.isSidebarClosed()&&c.sidebar.addClass("page-sidebar-menu-closed")})},i.prototype.setSidebarClosed=function(a){void 0===a&&(a=!0),g.ensureClass("page-sidebar-closed",a),c.sidebarMenu.ensureClass("page-sidebar-menu-closed",a),this.isSidebarClosed()&&this.isSidebarFixed()&&c.sidebarMenu.trigger("mouseleave")},i.prototype.closeSubmenus=function(){c.sidebarMenu.children("li.open").children("a").children(".arrow").removeClass("open"),c.sidebarMenu.children("li.open").children(".sub-menu:not(.always-open)").slideUp(this.config("layout.sidebar.slideSpeed")),c.sidebarMenu.children("li.open").removeClass("open"),this.app.emit("layout:sidebar:close-submenus")},i.prototype.closeSidebar=function(a){var b=this;$("main");if(!b.openCloseInProgress&&!b.isSidebarClosed()){b.openCloseInProgress=!0,b.closing=!0;var d=$.Deferred();this.app.emit("layout:sidebar:close"),b.closeSubmenus();var e=c.sidebarMenu.find("li a span.title, li a span.arrow");return async.parallel([function(a){c.content.animate({"margin-left":b.config("layout.sidebar.closedWidth")},b.config("layout.sidebar.openCloseDuration"),function(){a()})},function(a){c.sidebar.animate({width:b.config("layout.sidebar.closedWidth")},b.config("layout.sidebar.openCloseDuration"),function(){a()})},function(a){var c=0;e.animate({opacity:0},b.config("layout.sidebar.openCloseDuration")/3,function(){c++,c==e.length&&(e.css("display","none"),a())})}],function(f,g){b.setSidebarClosed(!0),c.sidebar.removeAttr("style"),c.content.removeAttr("style"),e.removeAttr("style"),b.closing=!1,b.openCloseInProgress=!1,_.isFunction(a)&&a(),d.resolve(),b.app.emit("layout:sidebar:closed"),b.app.emit("resize")}),d.promise()}},i.prototype.openSidebar=function(a){var b=this;if(!b.openCloseInProgress&&b.isSidebarClosed()){b.openCloseInProgress=!0;var d=$.Deferred(),e=c.sidebarMenu.find("li a span.title, li a span.arrow");return b.setSidebarClosed(!1),this.app.emit("layout:sidebar:open"),async.parallel([function(a){c.content.css("margin-left",b.config("layout.sidebar.closedWidth")).animate({"margin-left":b.config("layout.sidebar.openedWidth")},b.config("layout.sidebar.openCloseDuration"),function(){a()})},function(a){c.sidebar.css("width",b.config("layout.sidebar.closedWidth")).animate({width:b.config("layout.sidebar.openedWidth")},b.config("layout.sidebar.openCloseDuration"),function(){a()})},function(a){var c=0;e.css({opacity:0,display:"none"}),setTimeout(function(){e.css("display","initial"),e.animate({opacity:1},b.config("layout.sidebar.openCloseDuration ")/2,function(){c++,c==e.length&&(e.css("display","none"),a())})},b.config("layout.sidebar.openCloseDuration")/2)}],function(f,g){c.content.removeAttr("style"),c.sidebar.removeAttr("style"),e.removeAttr("style"),b.openCloseInProgress=!1,_.isFunction(a)&&a(),d.resolve(),b.app.emit("layout:sidebar:opened"),b.app.emit("resize")}),d.promise()}},i.prototype.hideSidebar=function(){this.config("layout.preferences.sidebar.hidden")||(g.hasClass("page-sidebar-closed")||g.addClass("page-sidebar-closed"),g.hasClass("page-sidebar-hide")||g.addClass("page-sidebar-hide"),$("header.top .sidebar-toggler").hide(),this.app.emit("layout:sidebar:hide"))},i.prototype.showSidebar=function(){g.removeClass("page-sidebar-closed").removeClass("page-sidebar-hide"),$("header.top .sidebar-toggler").show(),this.app.emit("layout:sidebar:show")},i.prototype.sidebarResolveActive=function(){if(this.config("layout.sidebar.resolveActive")===!0){var b=a.util.str.trim(location.pathname.toLowerCase(),"/"),d=this.getBreakpoint("md");a.getViewPort().width<d||c.sidebarMenu.find("a").each(function(){var c=$(this).attr("href");if(_.isString(c)){c=a.util.str.trim(c).replace(location.origin,"").replace(/\.\.\//g,""),"localhost"!==location.hostname;var d=a.util.str.trim(c,"/");if(d==b){var e=$(this);e.parent("li").not(".active").addClass("active");var f=e.parents("li").addClass("open");f.find(".arrow").addClass("open"),f.has("ul").children("ul").show()}}})}},i.prototype.setSidebarFixed=function(a){g.ensureClass("page-sidebar-fixed",a),a?this._initFixedHovered():c.sidebarMenu.unbind("mouseenter").unbind("mouseleave"),this._initFixed(),this.app.emit("layout:sidebar:fixed",a)},i.prototype.setSidebarCondensed=function(a){g.ensureClass("page-sidebar-condensed",a),this.app.emit("layout:sidebar:condensed",a)},i.prototype.setSidebarHover=function(a){c.sidebarMenu.ensureClass("page-sidebar-menu-hover-submenu",a&&!this.isSidebarFixed()),this.app.emit("layout:sidebar:hover",a)},i.prototype.setSidebarReversed=function(a){g.ensureClass("page-sidebar-reversed",a),this.app.emit("layout:sidebar:reversed",a)},i.prototype.setHeaderFixed=function(a){a===!0?(g.addClass("page-header-fixed"),c.header.removeClass("navbar-static-top").addClass("navbar-fixed-top")):(g.removeClass("page-header-fixed"),c.header.removeClass("navbar-fixed-top").addClass("navbar-static-top")),this.app.emit("layout:header:fixed",a)},i.prototype.setFooterFixed=function(a){a===!0?g.addClass("page-footer-fixed"):g.removeClass("page-footer-fixed"),this.app.emit("layout:footer:fixed",a)},i.prototype.setBoxed=function(a){if(g.ensureClass("page-boxed",a),c.headerInner.ensureClass("container",a),a===!0){$("body > .clearfix").after('<div class="container"></div>');c.container.appendTo("body > .clearfix + .container"),this.isFooterFixed()?c.footerInner.wrap($("<div>").addClass("container")):c.footer.appendTo("body > .clearfix + .container")}else{$("body > .clearfix + .container").children().unwrap();this.isFooterFixed()&&c.footerInner.unwrap()}this.app.emit("layout:page:boxed",a)},i.prototype.setEdged=function(a){a&&this.isBoxed()&&this.setBoxed(!1),g.ensureClass("page-edged",a),this.app.emit("layout:page:edged")},i.prototype.setTheme=function(b){var c=$("#theme-style");return 0===c.length&&(c=a.cre("link").attr("href","#").attr("rel","stylesheet").attr("type","text/css"),$("head").append(c)),c.attr("href",c.attr("href").replace(/(.*?\/styles\/themes\/theme)\-.*?\.css/,"$1-"+b+".css")),this},i.prototype.reset=function(){g.removeClass("page-boxed").removeClass("page-edged").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed").removeClass("page-sidebar-reversed"),c.header.removeClass("navbar-fixed-top"),c.headerInner.removeClass("container"),1===c.container.parent(".container").size()&&c.container.insertAfter("body > .clearfix"),1===$(".page-footer > .container").size()?c.footer.html($(".page-footer > .container").html()):1===c.footer.parent(".container").size()&&(c.footer.insertAfter(c.container),$(".scroll-to-top").insertAfter(c.footer)),$("body > .container").remove()},i.prototype.scrollTo=function(a,b){var d="string"==typeof a?$(a):a,e=d&&d.size()>0?d.offset().top:0;d&&(g.hasClass("page-header-fixed")&&(e-=c.header.height()),e+=b?b:-1*d.height()),$("html,body").animate({scrollTop:e},"slow")},i.prototype.scrollTop=function(){this.scrollTo()},i.prototype.getBreakpoint=function(a){return parseInt(this.config.get("layout.breakpoints4."+a))},i.prototype.calculateViewportHeight=function(){var b=a.getViewPort().height-c.header.outerHeight();return this.isFooterFixed()&&(b-=c.footer.outerHeight()),b},i.prototype.isHeaderFixed=function(){return g.hasClass("page-header-fixed")},i.prototype.isFooterFixed=function(){return g.hasClass("page-footer-fixed")},i.prototype.isBoxed=function(){return g.hasClass("page-boxed")},i.prototype.isEdged=function(){return g.hasClass("page-edged")},i.prototype.isSidebarClosed=function(){return g.hasClass("page-sidebar-closed")},i.prototype.isSidebarHidden=function(){return g.hasClass("page-sidebar-hide")},i.prototype.isSidebarFixed=function(){return 0!==$(".page-sidebar-fixed").size()},i.prototype.isSidebarCondensed=function(){return g.hasClass("page-sidebar-condensed")},i.prototype.isSidebarHover=function(){return c.sidebarMenu.hasClass("page-sidebar-menu-hover-submenu")},i.prototype.isSidebarReversed=function(){return g.hasClass("page-sidebar-reversed")},i=__decorate([a.extension("layout",d)],i)}(b.Extension);b.LayoutExtension=i;var j=function(){function a(a,b){this.name=a,this.$el="string"==typeof b?$(b):b}return a.prototype.stop=function(){this.started&&(this.$el.removeClass(this.name+"-loader-content"),this.$parent.removeClass(this.name+"-loading"),this.$loader.remove(),this.started=!1)},a.prototype.start=function(){if(!this.started){this.$el.addClass(this.name+"-loader-content"),this.$parent=this.$el.parent().addClass(this.name+"-loading");var a=$("<div>").addClass("loader loader-"+this.name);this.$loader=$("<div>").addClass(this.name+"-loader"),this.$loader.append(a).prependTo(this.$parent)}},a}();b.Loader=j}(b=a.extensions||(a.extensions={}))}(codex||(codex={}));var codex;!function(a){var b;!function(b){var c={"default":{layout:["header-fixed","footer-fixed"],theme:"default"},"condensed-dark":{layout:["header-fixed","footer-fixed","page-edged","sidebar-condensed"],theme:"dark-sidebar"}},d=($("body"),function(b){function d(){b.apply(this,arguments)}return __extends(d,b),d.prototype.init=function(){this.app.debug.log("PresetsComponent init"),this.app.on("booted",function(){a.debug.log("PresetsComponent received event emitted from app: booted")})},d.prototype.boot=function(){this._initLayoutApiActions()},d.prototype._initLayoutApiActions=function(){var a=this,b=this,c={preset:function(c){console.log("preset",c,a,b),b.set(c)}};b.layout.setApiActions(c)},Object.defineProperty(d.prototype,"layout",{get:function(){return this.extensions.get("layout")},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"quick_sidebar",{get:function(){return this.extensions.get("quick_sidebar")},enumerable:!0,configurable:!0}),d.prototype.set=function(a){var b=this,c=this.config("presets."+a);Object.keys(c).forEach(function(a){b.applyPresetType(a,c[a])})},d.prototype.applyPresetType=function(b,c){var d=this,e=this;switch(b){case"theme":this.layout.setTheme(c),this.app.emit("layout:preset:theme",c);break;case"layout":this.layout.reset(),"string"===a.kindOf(c)&&(c=[c]),c.forEach(function(a){e.layout.api(a)}),this.app.emit("layout:preset:layout",c)}this.app.on("resize",function(){console.log("apply preset refresh",d),d.quick_sidebar.refresh()})},d.dependencies=["layout","quick_sidebar"],d=__decorate([a.extension("presets",c)],d)}(b.Extension));b.PresetsExtension=d}(b=a.extensions||(a.extensions={}))}(codex||(codex={}));var codex;!function(a){var b;!function(b){var c={transitionTime:500},d=$("body"),e=function(){function b(a){this.switching=!1,this.switchingTimeout=!1;var b=this;this.qs=a,this.active=this.getFirst(),this.previous=this.getLast();({width:this.$tabs.parent().width(),height:this.$tabs.innerHeight()-1,"float":"left"});this.$content.each(function(){var a=$("<div>").addClass("qs-tab").text($(this).attr("data-name")).attr("data-target","#"+$(this).attr("id"));a.appendTo(b.$tabs)}),this.$wrapper.jcarousel({list:".qs-tabs",items:".qs-tab",wrap:"both"}),d.onClick(".quick-sidebar .qs-tab",function(a){b.openTab($(this).attr("data-target"))})}return b.prototype.find=function(a){return this.qs.find(a)},Object.defineProperty(b.prototype,"$wrapper",{get:function(){return this.find(".qs-tabs-wrapper")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$tabs",{get:function(){return this.find(".qs-tabs")},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"$content",{get:function(){return this.find(".qs-content")},enumerable:!0,configurable:!0}),b.prototype.handleTabsMiddleResizing=function(){a.debug.log("xs breakpoint:",this.qs.layout.getBreakpoint("sm"),"viewport width",a.getViewPort().width);var b=this.find(".qs-header .middle"),c=this.find(".qs-header");if(a.getViewPort().width>=this.qs.layout.getBreakpoint("sm")&&a.getViewPort().width<=this.qs.layout.getBreakpoint("md")){var d=c.children().first().outerWidth();d+=c.children().last().outerWidth(),d=c.width()-d,a.debug.log("width: ",d),0==this.$wrapper.closest(".qs-header").length&&this.$wrapper.appendTo(b),b.css("width",d)}else this.$wrapper.closest(".qs-header").length>0&&this.find(".qs-header").after(this.$wrapper),b.attr("style","");return this},b.prototype.refresh=function(){this.handleTabsMiddleResizing().destroyContentScroll().initContentScroll()},b.prototype.getContentScrollHeight=function(){return this.qs.$e.outerHeight()-this.find(".qs-header").outerHeight()-this.find(".qs-tabs-wrapper").outerHeight()-this.find(".qs-seperator").outerHeight()},b.prototype.initContentScroll=function(b){return b=a.defined(b)?$(b):this.getTabContent(this.getActive()),this.destroyContentScroll(b),a.makeSlimScroll(b,{height:this.getContentScrollHeight(),wheelStep:a.isTouchDevice()?60:20}),this.qs.mouseOverContent?this.$content.trigger("mouseleave").trigger("mouseenter"):this.$content.trigger("mouseleave"),this},b.prototype.destroyContentScroll=function(b){return b=a.defined(b)?$(b):this.getTabContent(this.getActive()),a.destroySlimScroll(b),this.find(".slimScrollBar, .slimScrollRail").remove(),this},b.prototype.closeTabs=function(){this.find(".qs-tab.active").removeClass("active");var b=this.find(".qs-content.active").removeClass("active");return b.length&&(a.destroySlimScroll(b),this.find(".slimScrollBar, .slimScrollRail").remove()),this},b.prototype.openTab=function(b){var c=this;b=a.defined(b)?a.util.str.lstrip(b,"#"):this.getFirst();var d=this.getTabNav(b),e=this.getTabContent(b);return this.switching?void((this.switchingTimeout=!1)&&(setTimeout(function(){c.openTab(b),c.switching=!1},this.qs.config("quick_sidebar.transitionTime")),this.switchingTimeout=!0)):(this.closeTabs(),d.ensureClass("active",!0),e.ensureClass("active",!0),this.$wrapper.jcarousel("scroll",d),b!==this.active&&(this.previous=this.active,this.active=b),this.switching=!0,setTimeout(function(){c.initContentScroll(e),c.switching=!1},this.qs.config("quick_sidebar.transitionTime")),this)},b.prototype.openPreviousTab=function(){return this.openTab(this.getPrevious()),this},b.prototype.openNextTab=function(){return this.openTab(this.getNext()),this},b.prototype.getActive=function(){return this.active},b.prototype.getPrevious=function(){var a=this.getTabContent(this.getActive()).parent().prev(".qs-content:not(.active)").attr("id");return!a&&this.hasTab(this.previous)?a=this.previous:a||(a=this.getLast()),a},b.prototype.getNext=function(){var a=this.getTabContent(this.getActive()).parent().next(".qs-content:not(.active)").attr("id");return this.hasTab(a)||(a=this.getFirst()),a},b.prototype.getFirst=function(){return this.find(".qs-content").first().attr("id")},b.prototype.getLast=function(){return this.find(".qs-content").last().attr("id")},b.prototype.hasTab=function(a){return this.find(".qs-content#"+a).length>0},b.prototype.getTabNav=function(a){return this.find('.qs-tabs .qs-tab[data-target="#'+a+'"]').first()},b.prototype.getTabContent=function(a){return this.find(".qs-content#"+a).first()},b}();b.QuickSidebarTabs=e;var f=function(b){function f(){b.apply(this,arguments),this.mouseOverContent=!1}return __extends(f,b),f.prototype.init=function(){this.app.debug.log("QuickSidebarComponent init"),this.app.on("booted",function(){a.debug.log("QuickSidebarComponent received event emitted from app: booted")})},f.prototype.boot=function(){if(a.debug.log("QuickSidebarComponent boot"),!this.exists())return void a.debug.log("QuickSidebarComponent does not exist");var b=_.merge(this.config("vendor.bootstrap.tooltip"),{placement:"left",offset:"30px -40px",trigger:"hover focus",selector:!1});a.isTouchDevice()||this.$e.find(".qs-header .btn[data-quick-sidebar]").tooltip(b),this.tabs=new e(this),this._initBindings(),this._initResizeHandler(),this._initLayoutApiActions(),this.isClosed()||this.openNextTab()},Object.defineProperty(f.prototype,"layout",{get:function(){return this.extensions.get("layout")},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"$e",{get:function(){return $(".quick-sidebar")},enumerable:!0,configurable:!0}),f.prototype.find=function(a){return this.$e.find(a)},f.prototype._initLayoutApiActions=function(){var a=this,b={"qs-toggle":function(b){a.isClosed()&&a.show().openTab(b)||a.hide()},"qs-show":function(){a.show().openTab()},"qs-hide":function(){a.hide()},"qs-open":function(b){a.openTab(b)},"qs-close":function(){a.hide()},"qs-togglepin":function(){!a.isPinned()&&a.pin()||a.unpin()},"qs-pin":function(){a.pin()},"qs-unpin":function(){a.unpin()},"qs-next":function(){a.openNextTab()},"qs-prev":function(){a.openPreviousTab()}};a.layout.setApiActions(b)},f.prototype._initBindings=function(){var a=this,b=this;d.onClick(".quick-sidebar .qs-header button",function(a){var b=$(this);b.blur()}),$(document).onClick(".qs-shown",function(a){$(a.target).closest(".quick-sidebar").length>0||b.isPinned()||b.hide()}),d.on("mouseenter",".quick-sidebar .qs-content",function(b){a.mouseOverContent=!0}).on("mouseleave",".quick-sidebar .qs-content",function(b){a.mouseOverContent=!1})},f.prototype._initResizeHandler=function(){var a=this,b=function(){a.isClosed()||a.refresh()};this.app.on("resize",b).on("layout:footer:fixed",b).on("layout:header:fixed",b).on("layout:page:fixed",b).on("layout:page:boxed",b)},f.prototype.refresh=function(){return this.isClosed()?void 0:(this.tabs.refresh(),this._emit("refresh"),this)},f.prototype._emit=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];this.app.emit("qs:"+a,[this].concat(b))},f.prototype.show=function(){return this.exists()?($("body").ensureClass("qs-shown",!0),this._emit("show"),this):this},f.prototype.hide=function(){return this.exists()?(this.isPinned()&&this.unpin(),d.ensureClass("qs-shown",!1),this._emit("hide"),this):void 0},f.prototype.isClosed=function(){return!d.hasClass("qs-shown")},f.prototype.openTab=function(a){return this.tabs.openTab(a),this._emit("open"),this},f.prototype.openNextTab=function(){return this.tabs.openNextTab(),this._emit("next"),this},f.prototype.openPreviousTab=function(){return this.tabs.openPreviousTab(),this._emit("prev"),this},f.prototype.pin=function(){return d.ensureClass("qs-pinned",!0),this._emit("pin"),this},f.prototype.unpin=function(){return d.removeClass("qs-pinned"),this._emit("unpin"),this},f.prototype.isPinned=function(){return d.hasClass("qs-pinned")},f.prototype.exists=function(){return this.$e.length>0},f.dependencies=["layout"],f=__decorate([a.extension("quick_sidebar",c)],f)}(b.Extension);b.QuickSidebarExtension=f}(b=a.extensions||(a.extensions={}))}(codex||(codex={}));var codex;!function(a){var b;!function(b){var c=function(b){function c(){b.apply(this,arguments)}return __extends(c,b),c.prototype._create=function(){console.log("TestPlugin create")},c=__decorate([a.plugin("testPlugin")],c)}(b.Plugin);b.TestPlugin=c,b.Plugin.register("testPlugin",c)}(b=a.plugins||(a.plugins={}))}(codex||(codex={}));var codex;!function(a){var b;!function(a){var b=function(a){function b(){a.call(this),this.version="1.0.0",this.widgetEventPrefix="progressbar.",this.options={transitionDelay:300,refreshSpeed:50,textDisplay:"none",textFormat:"{value} / {max} ({percent}%)",value:0},this.bs4=!1}return __extends(b,a),b.prototype._getDataAttributes=function(){var a=this.element.prefixedData("bar");return a},b.prototype._formatAmount=function(a,b,c,d){return this.options.textFormat.replace(/\{value\}/g,a).replace(/\{percent\}/g,b).replace(/\{remaining\}/g,c-a).replace(/\{max\}/g,c).replace(/\{min\}/g,d)},b.prototype._updateBaseValues=function(){this.options=$.extend(!0,this.options,this._getDataAttributes());var a=this.element;this.$parent=a.parent(),this.targetValue=parseInt(this.options.value),this.minValue=parseInt(a.attr(this.bs4?"min":"aria-valuemin"))||0,this.maxValue=parseInt(a.attr(this.bs4?"max":"aria-valuemax"))||100,this.isVertical=this.$parent.hasClass("vertical"),this.percentage=Math.round(100*(this.targetValue-this.minValue)/(this.maxValue-this.minValue))},b.prototype._create=function(){if(this.bs4="progress"===this.element.get(0).nodeName.toLowerCase(),this._updateBaseValues(),isNaN(this.targetValue))return void this._trigger("fail",["data-transitiongoal not set"]);if("center"===this.options.textDisplay&&!this.$back_text&&!this.$front_text){this.$back_text=$("<span>").addClass("progressbar-back-text").prependTo(this.$parent),this.$front_text=$("<span>").addClass("progressbar-front-text").prependTo(this.element);var a;this.isVertical?(a=this.$parent.css("height"),this.$back_text.css({height:a,"line-height":a}),this.$front_text.css({height:a,"line-height":a}),this._on(this.window,{resize:function(b){a=this.$parent.css("height"),this.$back_text.css({height:a,"line-height":a}),this.$front_text.css({height:a,"line-height":a})}})):(a=this.$parent.css("width"),this.$front_text.css({width:a}),this._on(this.window,{resize:function(b){a=this.$parent.css("width"),this.$front_text.css({width:a})}}))}setTimeout(this._start.bind(this),this.options.transitionDelay)},b.prototype._start=function(){this.isVertical?this.element.css("height",this.percentage+"%"):this.element.css("width",this.percentage+"%"),this.progressIntervalId=setInterval(this._update.bind(this),this.options.refreshSpeed)},b.prototype.update=function(){this._updateBaseValues(),this._start()},b.prototype._update=function(){this.isVertical?(this.this_size=this.element.height(),this.parent_size=this.$parent.height()):(this.this_size=this.element.width(),this.parent_size=this.$parent.width()),this.current_percentage=Math.round(100*this.this_size/this.parent_size),this.current_value=Math.round(this.minValue+this.this_size/this.parent_size*(this.maxValue-this.minValue)),this.current_percentage>=this.percentage&&(this.current_percentage=this.percentage,this.current_value=this.targetValue,this._trigger("done",[this.element]),clearInterval(this.progressIntervalId)),"none"!==this.options.textDisplay&&(this.text=this._formatAmount(this.current_value,this.current_percentage,this.maxValue,this.minValue),"fill"===this.options.textDisplay?this.element.text(this.text):"center"===this.options.textDisplay&&(this.$back_text.text(this.text),this.$front_text.text(this.text))),this.element.attr("aria-valuenow",this.current_value),this._trigger("done",[this.current_percentage,this.element])},b.prototype._destroy=function(){},b.prototype._init=function(){},b.prototype._setOption=function(a,b){switch(a){case"hidden":}return this._super(a,b),this},b}(a.Widget);a.progressbarWidget=b}(b=a.widgets||(a.widgets={}))}(codex||(codex={}));var codex;!function(a){var b;!function(b){var c=function(b){function c(){b.call(this),this.version="1.0.0",this.widgetEventPrefix="test.",this.options={test:"yes"}}return __extends(c,b),c.prototype._create=function(){console.log("TestWidget create")},c=__decorate([a.widget("testWidget")],c)}(b.Widget);b.TestWidget=c}(b=a.widgets||(a.widgets={}))}(codex||(codex={}));